<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>거래내역</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>

    <%- include('../menu.html') %>
    <p></p>
    <a href="/account"> 뒤로가기 </a>
    <div class="container mt-4">
        <h2>거래 내역</h2>
        <table class="table table-hover text-center" style="border: 1px solid;">
            <thead>
                <tr class="table-secondary">
                    <th>거래시각</th>
                    <th>송금자</th>
                    <th>수신자</th>
                    <!-- 금액은 입금이면 +, 출금/이체면 -, 색도 다르게 -->
                    <th>금액</th>
                    <th>메모</th>
                </tr>
            </thead>
            <tbody id="transferTableBody">
                <!-- 내 입출금/이체 목록이 여기에 동적으로 로드됩니다. -->
                <% for(let i=0; i < transfer.length; i++){ %>
                    <tr>
                        <td><%= transfer[i].time.toDateString() %> <%= transfer[i].time.toTimeString().split(' ')[0] %></td>
                        <td><%= transfer[i].sender_id %></td>
                        <td><%= transfer[i].reciever_id %></td>
                        <% if(transfer[i].sender_id == 'testId_1'){ %>
                        <td class="table-danger"> - <%= transfer[i].amount %></td>
                        <% } else { %>
                        <td class="table-success"> + <%= transfer[i].amount %></td>
                        <% } %>
                        <td><%= transfer[i].memo %></td>
                    </tr>
                    <% } %>
            </tbody>
        </table>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</body>

</html>